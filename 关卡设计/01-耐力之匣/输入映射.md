# 关卡1/5 输入映射 (IMC_Endurance)

关卡1（耐力之匣）和关卡5（牺牲之匣）共用此输入映射。

## 输入动作列表

IMC 架构说明见 [输入与属性.md](../00-通用逻辑/输入与属性.md)

### 通用输入（来自 IMC_Core）

| Input Action | 按键 | 触发器 | 说明 | 实现状态 |
|--------------|------|--------|------|----------|
| IA_Core_Move | WASD | - | 移动 | ✅ 已实现 |
| IA_Core_Look | 鼠标 | - | 视角 | ✅ 已实现 |
| IA_Core_Jump | 空格 | 已按下 + 已松开 | 跳跃 | ✅ 已实现 |
| IA_Core_Sprint | 左Shift | 下移 (0.5) | 奔跑 | ✅ 已实现 |

### 关卡专属输入

| Input Action | 按键 | 触发器 | 说明 | 实现状态 |
|--------------|------|--------|------|----------|
| IA_Endurance_Crouch | C | 已按下 (0.5) | 蹲行 | ❌ 待实现 |

### 待设计

| Input Action | 按键 | 说明 | 备注 |
|--------------|------|------|------|
| IA_Endurance_Push | ? | 推搡 | GAS Ability |
| IA_Endurance_Dodge | ? | 闪避 | GAS Ability |
| IA_Endurance_UseItem | ? | 使用道具（瞄准/投掷） | MOTS 插件 |

## 体力消耗（关卡1、5 专属）

| 操作 | 消耗方式 | 说明 |
|------|----------|------|
| 奔跑 | 持续消耗 | 按住 Shift 期间持续扣除 |
| 跳跃 | 按次消耗 | 每次跳跃扣除固定值 |
| 推搡 | 按次消耗 | 每次推搡扣除固定值 |
| 闪避 | 按次消耗 | 每次闪避扣除固定值 |

**注意**：奔跑和跳跃的输入在 IMC_Core 里（通用），但体力消耗逻辑只在关卡1、5 生效。

## Danger 标签

以下操作会添加 `Player.State.Danger` 标签（红灯时被检测到会死亡）：

| 操作 | 添加 Danger |
|------|-------------|
| 行走 | ✅ |
| 奔跑 | ✅ |
| 蹲行 | ✅ |
| 跳跃 | ✅ |
| 推搡 | ✅ |
| 闪避 | ✅ |
| 瞄准/投掷 | ✅ |
| 摔倒 | ✅ |
| 麻痹 | ✅ |
| 失衡 | ❌（安全状态） |

## 实现状态

- [x] IMC_Endurance 创建（包含通用输入 + 关卡专属输入）
- [ ] IA_Endurance_Crouch 配置
- [ ] 蹲行逻辑实现
- [ ] 推搡按键设计
- [ ] 闪避按键设计
- [ ] 道具使用按键设计
